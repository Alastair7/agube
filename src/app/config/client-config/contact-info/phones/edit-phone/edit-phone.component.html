<span *ngIf="phone && phone.isEditable; else editablePhone">
    <div class="editable-form">
        <mat-form-field appearance="fill">
            <mat-label>{{'CONTACT_INFO.PHONES.EDIT_FORM.EDIT_PHONE' | translate}}</mat-label>
            <input matInput placeholder="{{phone!.phone.phone}}" [formControl]="newPhone"
                (keydown.enter)="updatePhone()">
            <mat-error *ngIf="newPhone.invalid">{{errorValidator('newPhone') |translate}}</mat-error>
        </mat-form-field>
        <div>
            <button mat-icon-button matTooltip="{{'CONTACT_INFO.PHONES.EDIT_FORM.BUTTON_CLOSE_TOOLTIP' | translate}}" (click)="openEditablePhoneForm()">
                <mat-icon>close</mat-icon>
            </button>
            <button mat-icon-button matTooltip="{{'CONTACT_INFO.PHONES.EDIT_FORM.BUTTON_SAVE_TOOLTIP' | translate}}" (click)="updatePhone()" [disabled]="this.newPhone.invalid">
                <mat-icon>save</mat-icon>
            </button>
        </div>
    </div>
</span>

<ng-template #editablePhone>
    <div class="edited-form">
        <h4> {{ phone!.phone.phone }} </h4>
        <span mat-subheader class="is-principal">{{ phone!.phone.main ? 'Principal' : '' }}</span>
    </div>
    <div>
        <button mat-icon-button *ngIf="phone!.phone.main; else notMainPhone" matTooltip="{{'CONTACT_INFO.PHONES.EDIT_FORM.BUTTON_PRINCIPAL_STAR_TOOLTIP' | translate}}"
            (click)="setPhoneAsMain()">
            <mat-icon>star</mat-icon>
        </button>
        <ng-template #notMainPhone>
            <button mat-icon-button matTooltip="{{'CONTACT_INFO.PHONES.EDIT_FORM.BUTTON_PRINCIPAL_TOOLTIP' | translate}}" (click)="setPhoneAsMain()">
                <mat-icon>star_border</mat-icon>
            </button>
        </ng-template>
        <button mat-icon-button matTooltip="{{'CONTACT_INFO.PHONES.EDIT_FORM.BUTTON_EDIT_TOOLTIP' | translate}}" (click)="openEditablePhoneForm()">
            <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button matTooltip="{{'CONTACT_INFO.PHONES.EDIT_FORM.BUTTON_DELETE_TOOLTIP' | translate}}" (click)="deletePhone()">
            <mat-icon>delete</mat-icon>
        </button>
    </div>
</ng-template>