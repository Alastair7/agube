<span *ngIf="phone && phone.isEditable; else editablePhone">
    <div class="editable-form">
        <mat-form-field appearance="fill">
            <mat-label>Modificar Tel√©fono</mat-label>
            <input matInput placeholder="{{phone!.phone.phone}}" [formControl]="newPhone"
                (keydown.enter)="updatePhone()">
            <mat-error *ngIf="newPhone.invalid">{{errorValidator('newPhone')}}</mat-error>
        </mat-form-field>
        <div>
            <button mat-icon-button matTooltip="Cerrar" (click)="openEditablePhoneForm()">
                <mat-icon>close</mat-icon>
            </button>
            <button mat-icon-button matTooltip="Guardar" (click)="updatePhone()" [disabled]="this.newPhone.invalid">
                <mat-icon>save</mat-icon>
            </button>
        </div>
    </div>
</span>

<ng-template #editablePhone>
    <div class="edited-form">
        <h4> {{ phone!.phone.phone }} </h4>
        <span mat-subheader class="is-principal">{{ phone!.phone.main ? 'Principal' : '' }}</span>
    </div>
    <div>
        <button mat-icon-button *ngIf="phone!.phone.main; else notMainPhone" matTooltip="Favorito"
            (click)="setPhoneAsMain()">
            <mat-icon>star</mat-icon>
        </button>
        <ng-template #notMainPhone>
            <button mat-icon-button matTooltip="Poner como favorito" (click)="setPhoneAsMain()">
                <mat-icon>star_border</mat-icon>
            </button>
        </ng-template>
        <button mat-icon-button matTooltip="Editar" (click)="openEditablePhoneForm()">
            <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Borrar" (click)="deletePhone()">
            <mat-icon>delete</mat-icon>
        </button>
    </div>
</ng-template>